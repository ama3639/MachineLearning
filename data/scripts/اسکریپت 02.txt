خلاصه و دقیق بگم:
اسکریپت 02 برای اینکه یک فایل رو به عنوان «خبر» پردازش کنه و احساساتش رو استخراج کنه، این **انتظارات قطعی** رو داره:

---

## **۱. شناسایی فایل خبری**

* نام فایل باید:

  * یا با **`news_`** شروع بشه،
  * یا شامل کلیدواژه‌ی یکی از منابع خبری پشتیبانی‌شده باشه (`GNews`, `NewsAPI`, `RSS`, `CoinGecko`, `Reddit` و …).

---

## **۲. ستون‌های اجباری**

حداقل سه ستون **باید** وجود داشته باشه و خالی نباشه:

1. `timestamp` → زمان انتشار خبر (فرمت تاریخ معتبر، ترجیحاً UTC)
2. `symbol` → نماد مرتبط با خبر (مثلاً `BTC/USDT`، یا حداقل یک برچسب ثابت)
3. `title` → متن کوتاه یا عنوان خبر

اگر یکی از این سه تا نباشه یا همه مقادیرش خالی باشه → فایل رد میشه.

---

## **۳. ستون‌های اختیاری ولی مفید**

داشتن این‌ها باعث میشه خروجی احساسات کامل‌تر بشه:

* `content` → متن کامل خبر یا پیام
* `description` → خلاصه یا داده‌های ساختاری (`parsed_data`)
* `source` → منبع خبر (نام سایت، کانال و …)
* `url` → لینک خبر (اولین لینک موجود در متن)
* `language` → کد زبان (`en`, `fa` و …)
* `image` → لینک تصویر (در صورت وجود)
* `api_source` → منبع API (مثل `"BinanceAnnouncements"` یا `"Arzdigital"`)

---

## **۴. کیفیت داده‌ها**

* `timestamp` باید تاریخ معتبر باشه و خالی نباشه.
* `title` نباید فقط فاصله یا لینک باشه، باید حداقل چند کاراکتر متن معنادار داشته باشه.
* رکوردهای تکراری بر اساس `title` حذف می‌شن، پس بهتره عنوان‌ها یکتا باشن.
* `symbol` اگر با داده‌های قیمت همخوانی داشته باشه، «پخش احساسات» به درستی انجام میشه.

---

## **۵. قالب خروجی**

* فرمت فایل باید **CSV** باشه (نه JSON، نه Parquet).
* **Encoding UTF-8** یا **UTF-8-SIG** بهتره که کاراکترها خراب نشن.

---

اگر بخوای، می‌تونم یک **چک‌لیست اعتبارسنجی** بنویسم که هر فایل خروجی رو قبل از دادن به 02 بررسی کنه و بگه چی کم یا خراب هست. اینطوری هر خروجی‌ای که از اسکریپت 06 یا تبدیل JSON/CSV گرفتیم، 100٪ آماده 02 خواهد بود.
